# Example of pipelinerun to run the go tests

apiVersion: tekton.dev/v1alpha1
kind: PipelineRun
metadata:
  generateName: go-test-
  namespace: tektoncd
  labels:
    pipeline: go-test
spec:
  params:
  - name: test-name
    value: "jlewi-go-test"
  - name: artifacts-gcs
    value: "gs://kubeflow-ci-deployment/gabrielwen-testing-2"
  serviceAccountName: kf-ci
  resources:
  # This pull number has changes blocked on:
  # https://github.com/kubeflow/testing/pull/622
  - name: source-repo
    resourceSpec:
      type: git
      params:
      - name: url
        value: https://github.com/jlewi/testing.git
      - name: revision
        value: gcp_blueprints
  pipelineRef:
    name: go-tests
